/*
    四角鸣墨题库(New Version)
    version: 3.0.2
    date:  2016/2/13 20:29
*/
$(function(){function a(a,b,c){function f(a){return a.replace(/\s+/g,"")}var d=$.trim(a),e=$.trim(b);return"exact"==c?d==e?1:0:"case"==c?d.toLowerCase()==e.toLowerCase()?1:0:"space"==c?f(d)==f(e)?1:0:"sc"==c?f(d.toLowerCase())==f(e.toLowerCase())?1:0:void 0}function b(a){return a?1:0}function c(a){var b=parseInt((new Date).getTime()/1e3);"start"==a?timeRecord=b:"stop"==a?durationRecord=b-timeRecord:"clear"==a&&(timeRecord=0)}var d,e;$(".nav-tabs > li").css({"float":"none","margin-bottom":"0"}),$(".next").hide(),$(".panel").hide(),pos=0,c("start"),$('a[data-toggle="tab"]').on("shown.bs.tab",function(a){$(a.target).attr("next-pos"),pos=$(a.target).attr("open-pos"),localStorage.qPos=pos,$(".progress-animate").remove(),$(".fill-header").after('<div id="progress" class="progress-back progress-animate" </div>'),$(".progress-animate").css({"animation-name":"process","animation-duration":d[pos-1].time+"s"});var g=durationRecord>d[pos-1].time?!0:!1;e.data[pos]={time:timeRecord,duration:durationRecord,frequency:3,isHint:gloHint,isTimeout:g,result:gloResult,score:b(gloResult),postAnswer:gloPost},localStorage.setItem("postData",JSON.stringify(e)),c("start"),gloHint=0}),$("#getTip").click(function(){$(".tab-pane:eq("+pos+")").find(".panel").show(),gloHint=12}),localStorage.qPos&&(1==localStorage.qPos||($(".tab-pane").removeClass("active"),$(".tab-pane:eq("+localStorage.qPos+")").addClass("in active"))),$(".tab-pane li").click(function(){c("stop");var b=$(this).attr("opt-order");gloPost=b,$(this).parent().parent().find(".next").show(),a(b,d[pos-1].answer,d[pos-1].validate)?($(this).addClass("answerTrue"),gloResult=!0):($(this).addClass("answerFalse"),$(this).siblings('[opt-order="'+d[pos-1].answer+'"]').addClass("answerTrue"),gloResult=!1),$(".progress-animate").css({"animation-play-state":"paused"})}),d=[{uid:38872,answer:"1",validate:"exact",time:40},{uid:38873,answer:"3",validate:"case",time:20},{uid:38874,answer:"2",validate:"space",time:80},{uid:38875,answer:"1",validate:"sc",time:90}],e={config:[{postUID:555555}],data:[]}});